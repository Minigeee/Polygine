#ifndef SHADER_BILLBOARD_VERT
#define SHADER_BILLBOARD_VERT "#version 330 core\n\nlayout (std140) uniform Camera\n{\n    mat4 u_projView;\n    vec3 u_cameraPos;\n    float u_near;\n    float u_far;\n};\n\nlayout (location = 6) in mat4 a_transform;\n\nout vec3 v_position;\nout vec3 v_front;\nout vec3 v_right;\nout vec3 v_up;\n\nuniform bool u_axisLocked;\n\nvoid main()\n{\n    // Calculate billboard position\n    v_position = (a_transform * vec4(0, 0, 0, 1)).xyz;\n\n    vec3 front = normalize(u_cameraPos - v_position);\n    mat3 rotScaleMatrix = mat3(a_transform);\n\n    // Calculate right and up vectors\n    vec3 tr = rotScaleMatrix * vec3(1, 0, 0);\n    vec3 tu = rotScaleMatrix * vec3(0, 1, 0);\n    vec3 r = normalize(cross(vec3(0, 1, 0), front));\n    vec3 u = vec3(0, 1, 0);\n    \n    if (!u_axisLocked)\n        u = normalize(cross(front, r));\n\n    v_front = front;\n    v_right = tr.x * r + tr.y * u;\n    v_up = tu.x * r + tu.y * u;\n}"
#endif